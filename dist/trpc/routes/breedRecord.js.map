{"version":3,"sources":["../../../src/trpc/routes/breedRecord.ts"],"sourcesContent":["import { router, publicProcedure, Models } from '..';\r\nimport { z } from 'zod';\r\nimport { _BreedRecordModel } from '../../zod';\r\nimport { prisma } from '../..';\r\nimport dayjs from 'dayjs';\r\n\r\nconst model: Models = 'breedRecord'\r\n\r\nexport const breedRecordRouter = router({\r\n    create: publicProcedure\r\n        .input(z.object({\r\n            breedDate: z.string(),\r\n            expectedKindleDate: z.string().optional(),\r\n            nestBoxDate: z.string().optional(),\r\n            kindleDate: z.string().optional(),\r\n            weanDate: z.string().optional(),\r\n            damWeight: z.string(),\r\n            description: z.string().optional()\r\n        }))\r\n        .mutation(({ input }) => {\r\n            return prisma[model].create({\r\n                data: {\r\n                    breedDate: dayjs(input.breedDate).toDate(),\r\n                    expectedKindleDate: dayjs(input.expectedKindleDate).toDate(),\r\n                    nestBoxDate: dayjs(input.nestBoxDate).toDate(),\r\n                    kindleDate: dayjs(input.kindleDate).toDate(),\r\n                    weanDate: dayjs(input.weanDate).toDate(),\r\n                    damWeight: input.damWeight,\r\n                    description: input.description\r\n                }\r\n            })\r\n        }),\r\n    list: publicProcedure.query(() => {\r\n        return prisma[model].findMany({});\r\n    }),\r\n    getOne: publicProcedure.input(z.object({\r\n            id: z.string().uuid()\r\n        })).query(({input}) => {\r\n        return prisma[model].findFirst({\r\n            where: {\r\n                id: input.id\r\n            },\r\n        });\r\n    }),\r\n    delete: publicProcedure\r\n        .input(z.object({\r\n            id: z.string().uuid()\r\n        })).mutation(({ input }) => {\r\n            return prisma[model].delete({\r\n                where: {\r\n                    id: input.id\r\n                }\r\n            });\r\n        }),\r\n    update: publicProcedure\r\n        .input(_BreedRecordModel).mutation(({ input }) => {\r\n            return prisma[model].update({\r\n                where: {\r\n                    id: input.id\r\n                },\r\n                data: input\r\n            });\r\n        }),\r\n});"],"names":["router","publicProcedure","z","_BreedRecordModel","prisma","dayjs","model","breedRecordRouter","create","input","object","breedDate","string","expectedKindleDate","optional","nestBoxDate","kindleDate","weanDate","damWeight","description","mutation","data","toDate","list","query","findMany","getOne","id","uuid","findFirst","where","delete","update"],"mappings":"AAAA,SAASA,MAAM,EAAEC,eAAe,QAAgB,KAAK;AACrD,SAASC,CAAC,QAAQ,MAAM;AACxB,SAASC,iBAAiB,QAAQ,YAAY;AAC9C,SAASC,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,WAAW,QAAQ;AAE1B,IAAMC,QAAgB;AAEtB,OAAO,IAAMC,oBAAoBP,OAAO;IACpCQ,QAAQP,gBACHQ,KAAK,CAACP,EAAEQ,MAAM,CAAC;QACZC,WAAWT,EAAEU,MAAM;QACnBC,oBAAoBX,EAAEU,MAAM,GAAGE,QAAQ;QACvCC,aAAab,EAAEU,MAAM,GAAGE,QAAQ;QAChCE,YAAYd,EAAEU,MAAM,GAAGE,QAAQ;QAC/BG,UAAUf,EAAEU,MAAM,GAAGE,QAAQ;QAC7BI,WAAWhB,EAAEU,MAAM;QACnBO,aAAajB,EAAEU,MAAM,GAAGE,QAAQ;IACpC,IACCM,QAAQ,CAAC,gBAAe;YAAZX,cAAAA;QACT,OAAOL,MAAM,CAACE,MAAM,CAACE,MAAM,CAAC;YACxBa,MAAM;gBACFV,WAAWN,MAAMI,MAAME,SAAS,EAAEW,MAAM;gBACxCT,oBAAoBR,MAAMI,MAAMI,kBAAkB,EAAES,MAAM;gBAC1DP,aAAaV,MAAMI,MAAMM,WAAW,EAAEO,MAAM;gBAC5CN,YAAYX,MAAMI,MAAMO,UAAU,EAAEM,MAAM;gBAC1CL,UAAUZ,MAAMI,MAAMQ,QAAQ,EAAEK,MAAM;gBACtCJ,WAAWT,MAAMS,SAAS;gBAC1BC,aAAaV,MAAMU,WAAW;YAClC;QACJ;IACJ;IACJI,MAAMtB,gBAAgBuB,KAAK,CAAC,WAAM;QAC9B,OAAOpB,MAAM,CAACE,MAAM,CAACmB,QAAQ,CAAC,CAAC;IACnC;IACAC,QAAQzB,gBAAgBQ,KAAK,CAACP,EAAEQ,MAAM,CAAC;QAC/BiB,IAAIzB,EAAEU,MAAM,GAAGgB,IAAI;IACvB,IAAIJ,KAAK,CAAC,gBAAa;YAAXf,cAAAA;QACZ,OAAOL,MAAM,CAACE,MAAM,CAACuB,SAAS,CAAC;YAC3BC,OAAO;gBACHH,IAAIlB,MAAMkB,EAAE;YAChB;QACJ;IACJ;IACAI,QAAQ9B,gBACHQ,KAAK,CAACP,EAAEQ,MAAM,CAAC;QACZiB,IAAIzB,EAAEU,MAAM,GAAGgB,IAAI;IACvB,IAAIR,QAAQ,CAAC,gBAAe;YAAZX,cAAAA;QACZ,OAAOL,MAAM,CAACE,MAAM,CAACyB,MAAM,CAAC;YACxBD,OAAO;gBACHH,IAAIlB,MAAMkB,EAAE;YAChB;QACJ;IACJ;IACJK,QAAQ/B,gBACHQ,KAAK,CAACN,mBAAmBiB,QAAQ,CAAC,gBAAe;YAAZX,cAAAA;QAClC,OAAOL,MAAM,CAACE,MAAM,CAAC0B,MAAM,CAAC;YACxBF,OAAO;gBACHH,IAAIlB,MAAMkB,EAAE;YAChB;YACAN,MAAMZ;QACV;IACJ;AACR,GAAG"}